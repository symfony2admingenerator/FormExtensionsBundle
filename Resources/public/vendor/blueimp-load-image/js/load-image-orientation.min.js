!function(t){"use strict";"function"==typeof define&&define.amd?define(["load-image"],t):t(window.loadImage)}(function(t){"use strict";var e=t.hasCanvasOption;t.hasCanvasOption=function(t){return e(t)||t.orientation},t.transformCoordinates=function(t,e){var a=t.getContext("2d"),o=t.width,i=t.height,r=e.orientation;if(r)switch(r>4&&(t.width=i,t.height=o),r){case 2:a.translate(o,0),a.scale(-1,1);break;case 3:a.translate(o,i),a.rotate(Math.PI);break;case 4:a.translate(0,i),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-i);break;case 7:a.rotate(.5*Math.PI),a.translate(o,-i),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-o,0)}},t.getTransformedOptions=function(t){if(!t.orientation||1===t.orientation)return t;var e,a={};for(e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);switch(t.orientation){case 2:a.left=t.right,a.right=t.left;break;case 3:a.left=t.right,a.top=t.bottom,a.right=t.left,a.bottom=t.top;break;case 4:a.top=t.bottom,a.bottom=t.top;break;case 5:a.left=t.top,a.top=t.left,a.right=t.bottom,a.bottom=t.right;break;case 6:a.left=t.top,a.top=t.right,a.right=t.bottom,a.bottom=t.left;break;case 7:a.left=t.bottom,a.top=t.right,a.right=t.top,a.bottom=t.left;break;case 8:a.left=t.bottom,a.top=t.left,a.right=t.top,a.bottom=t.right}return t.orientation>4&&(a.maxWidth=t.maxHeight,a.maxHeight=t.maxWidth,a.minWidth=t.minHeight,a.minHeight=t.minWidth,a.sourceWidth=t.sourceHeight,a.sourceHeight=t.sourceWidth),a}});
